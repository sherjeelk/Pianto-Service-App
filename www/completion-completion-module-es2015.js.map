{"version":3,"sources":["./src/app/completion/completion.page.html","./src/app/completion/completion-routing.module.ts","./src/app/completion/completion.module.ts","./src/app/completion/completion.page.scss","./src/app/completion/completion.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,yfAA0b,eAAe,4vBAA4vB,E;;;;;;;;;;;;;;;;;;;ACA3qC;AACc;AAEJ;AAEnD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,+DAAc;KAC1B;CACF,CAAC;IAMW,2BAA2B,SAA3B,2BAA2B;CAAG;AAA9B,2BAA2B;IAJvC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,2BAA2B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBC;AACM;AACiB;AAEnB;AAE6B;AAEvB;AACa;AACP;AACF;AACE;AACJ;AACS;IAkBjD,oBAAoB,SAApB,oBAAoB;CAAG;AAAvB,oBAAoB;IAhBhC,8DAAQ,CAAC;QACN,OAAO,EAAE;YACL,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,sFAA2B;YAC3B,+EAAkB;YAClB,wEAAe;YACf,sEAAc;YACd,yEAAe;YACf,qEAAa;YACb,kEAAmB;YACnB,8EAAiB;SACpB;QACH,YAAY,EAAE,CAAC,+DAAc,CAAC;KAC/B,CAAC;GACW,oBAAoB,CAAG;AAAH;;;;;;;;;;;;;AChCjC;AAAe,2EAAY,2BAA2B,iBAAiB,sBAAsB,GAAG,eAAe,gCAAgC,qBAAqB,sBAAsB,GAAG,eAAe,wBAAwB,GAAG,6CAA6C,2sBAA2sB,E;;;;;;;;;;;;;;;;;;;;;ACA76B;AACgB;AACA;AACX;AAEF;IASxC,cAAc,SAAd,cAAc;IAMzB,YAAoB,IAAiB,EAAU,WAAwB,EAAU,GAAsB,EAAU,KAAqB,EAAU,MAAc;QAA1I,SAAI,GAAJ,IAAI,CAAa;QAAU,gBAAW,GAAX,WAAW,CAAa;QAAU,QAAG,GAAH,GAAG,CAAmB;QAAU,UAAK,GAAL,KAAK,CAAgB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAJ5J,cAAS,GAAY,EAAE,CAAC;QACxB,YAAO,GAAG,EAAE,CAAC;IAGmJ,CAAC;IAEnK,QAAQ;QACN,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC;QAC7C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC3C,EAAE,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAC7B,EAAE,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;SAC9B,CAAC,CAAC;QAEH,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAED,kDAAkD;IAElD,YAAY;QACV,IAAI,CAAC,GAAG,CAAC,sBAAsB,EAAE,CAAC,SAAS,CAAE,IAAI,CAAC,EAAE;YAClD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC;YAC9B,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,SAAS,EAAC;gBAChC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;oBAChB,QAAQ,EAAE,IAAI,CAAC,IAAI;oBACnB,MAAM,EAAE,EAAE;iBACX,CAAC,CAAC;aACJ;YACD,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACzD,CAAC,EAAE,KAAK,CAAC,EAAE;YACT,OAAO,CAAC,GAAG,CAAC,2CAA2C,EAAE,KAAK,CAAC,CAAC;QAClE,CAAC,CAAC,CAAC;IACL,CAAC;IAED,MAAM;QAEJ,MAAM,IAAI,GAAG;YACX,EAAE,EAAG,IAAI,CAAC,OAAO;YACjB,MAAM,EAAE,WAAW;YACnB,SAAS,EAAE,IAAI,CAAC,OAAO;SACxB,CAAC;QACF,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,SAAS,CAAE,IAAI,CAAC,EAAE;YAC/C,OAAO,CAAC,GAAG,CAAC,8BAA8B,EAAE,IAAI,CAAC,CAAC;YAClD,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;YAC5C,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,EAAE,CAAC,CAAC;QAClD,CAAC,EAAE,KAAK,CAAC,EAAE;YACT,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,4CAA4C,EAAE,EAAE,CAAC,CAAC;YACzE,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC;IACL,CAAC;CAGF;;YA/DO,kEAAW;YAJX,0DAAW;YACX,+EAAiB;YACjB,8DAAc;YAAE,sDAAM;;AAWjB,cAAc;IAL1B,+DAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;QAC1B,gOAAqC;;KAEtC,CAAC;GACW,cAAc,CAsD1B;AAtD0B","file":"completion-completion-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-title>Complete Order</ion-title>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button></ion-back-button>\\r\\n        </ion-buttons>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n    <div class=\\\"container my-3\\\">\\r\\n\\r\\n        <mat-card class=\\\"mat-elevation-z2\\\">\\r\\n\\r\\n            <div *ngFor=\\\"let ques of answers\\\">\\r\\n                <div>Q : {{ques.question}}</div>\\r\\n                <mat-form-field>\\r\\n                    <mat-label>Answer</mat-label>\\r\\n                    <label>\\r\\n                        <input matInput minlength=\\\"1\\\" type=\\\"text\\\" [(ngModel)]=\\\"ques.answer\\\">\\r\\n                    </label>\\r\\n                    <mat-error>Please enter an answer</mat-error>\\r\\n\\r\\n                </mat-form-field>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"d-flex justify-content-around\\\">\\r\\n                <button class=\\\"cncl-btn\\\" mat-flat-button routerLink=\\\"/tab/tabs/home\\\">Cancel</button>\\r\\n                <button (click)=\\\"submit()\\\" class=\\\"sbmt-btn\\\" mat-raised-button>Submit</button>\\r\\n            </div>\\r\\n\\r\\n        </mat-card>\\r\\n\\r\\n    </div>\\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CompletionPage } from './completion.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CompletionPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CompletionPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CompletionPageRoutingModule } from './completion-routing.module';\r\n\r\nimport { CompletionPage } from './completion.page';\r\nimport {MatFormFieldModule} from '@angular/material/form-field';\r\nimport {MatSelectModule} from '@angular/material/select';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatButtonModule} from '@angular/material/button';\r\nimport {MatCardModule} from '@angular/material/card';\r\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        IonicModule,\r\n        CompletionPageRoutingModule,\r\n        MatFormFieldModule,\r\n        MatSelectModule,\r\n        MatInputModule,\r\n        MatButtonModule,\r\n        MatCardModule,\r\n        ReactiveFormsModule,\r\n        MatSnackBarModule\r\n    ],\r\n  declarations: [CompletionPage]\r\n})\r\nexport class CompletionPageModule {}\r\n","export default \".sbmt-btn {\\n  background: blueviolet;\\n  color: white;\\n  padding: 1px 40px;\\n}\\n\\n.cncl-btn {\\n  border: orangered 1px solid;\\n  color: orangered;\\n  padding: 1px 40px;\\n}\\n\\n.mat-card {\\n  border-radius: 12px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcGxldGlvbi9jb21wbGV0aW9uLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHNCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0FBQ0Y7O0FBR0E7RUFDRSwyQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUFBRjs7QUFJQTtFQUNFLG1CQUFBO0FBREYiLCJmaWxlIjoic3JjL2FwcC9jb21wbGV0aW9uL2NvbXBsZXRpb24ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNibXQtYnRue1xyXG4gIGJhY2tncm91bmQ6IGJsdWV2aW9sZXQ7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIHBhZGRpbmc6IDFweCA0MHB4O1xyXG5cclxufVxyXG5cclxuLmNuY2wtYnRue1xyXG4gIGJvcmRlcjogb3JhbmdlcmVkIDFweCBzb2xpZDtcclxuICBjb2xvcjogb3JhbmdlcmVkO1xyXG4gIHBhZGRpbmc6IDFweCA0MHB4O1xyXG5cclxufVxyXG5cclxuLm1hdC1jYXJke1xyXG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcblxyXG59XHJcbiJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {ApiServiceService} from '../services/api-service.service';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {AlertController} from '@ionic/angular';\r\nimport {UtilService} from '../services/util.service';\r\nimport {dashCaseToCamelCase} from '@angular/compiler/src/util';\r\nimport {Extra} from '../models/Extras';\r\n\r\n@Component({\r\n  selector: 'app-completion',\r\n  templateUrl: './completion.page.html',\r\n  styleUrls: ['./completion.page.scss'],\r\n})\r\nexport class CompletionPage implements OnInit {\r\n    completionForm: FormGroup;\r\n    questions: Extra[] = [];\r\n    answers = [];\r\n  private orderId: any;\r\n\r\n  constructor(private util: UtilService, private formBuilder: FormBuilder, private api: ApiServiceService, private route: ActivatedRoute, private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.orderId = this.route.snapshot.params.id;\r\n    this.completionForm = this.formBuilder.group({\r\n      q1: ['', Validators.required],\r\n      q2: ['', Validators.required]\r\n    });\r\n\r\n    this.getQuestions();\r\n  }\r\n\r\n  // Get Questions from extra api type is \"question\"\r\n\r\n  getQuestions() {\r\n    this.api.getQuestionsFromExtras().subscribe( data => {\r\n      this.questions = data.results;\r\n      for (const item of this.questions){\r\n        this.answers.push({\r\n          question: item.name,\r\n          answer: ''\r\n        });\r\n      }\r\n      console.log('these are all questions', this.questions);\r\n    }, error => {\r\n      console.log('an error occurred while getting questions', error);\r\n    });\r\n  }\r\n\r\n  submit() {\r\n\r\n    const body = {\r\n      id : this.orderId,\r\n      status: 'COMPLETED',\r\n      questions: this.answers\r\n    };\r\n    this.api.updateOrderStat(body).subscribe( data => {\r\n      console.log('this is data after COMPLETED', data);\r\n      this.util.orderUpdate.next(true);\r\n      this.router.navigateByUrl('/tab/tabs/home');\r\n      this.util.openSnackBar('Booking completed', '');\r\n    }, error => {\r\n      this.util.openSnackBar('An error occurred while completing booking', '');\r\n      console.log('this is error occurred', error);\r\n    });\r\n  }\r\n\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}