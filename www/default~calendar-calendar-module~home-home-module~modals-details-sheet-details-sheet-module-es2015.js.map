{"version":3,"sources":["./src/app/modals/details-sheet/details-sheet.page.html","./src/app/modals/details-sheet/details-sheet.page.scss","./src/app/modals/details-sheet/details-sheet.page.ts"],"names":[],"mappings":"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","file":"default~calendar-calendar-module~home-home-module~modals-details-sheet-details-sheet-module-es2015.js","sourcesContent":["export default \"\\r\\n<div *ngIf=\\\"orderData\\\" class=\\\"container p-b-10\\\">\\r\\n\\r\\n  <h5 class=\\\"text-center\\\">Order Details</h5>\\r\\n\\r\\n  <div>\\r\\n    <div class=\\\"o-detail-title\\\">\\r\\n      <div>#{{orderData._id}}</div>\\r\\n      <span [style.color]=\\\"getStatusColor(orderData.status)\\\" class=\\\"status\\\">  ({{getStatus(orderData.status)}})</span>\\r\\n\\r\\n      <div>\\r\\n          <span>Date: {{util.getHumanShortDate(orderData.date)}}</span>\\r\\n          <br>\\r\\n          <span>Time: {{orderData.time}}</span>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <hr>\\r\\n\\r\\n\\r\\n    <mat-form-field appearance=\\\"outline\\\">\\r\\n      <mat-label>Customer Name</mat-label>\\r\\n      <input matInput [value]=\\\"orderData.name\\\" readonly>\\r\\n      <mat-icon matPrefix class=\\\"m-r-4\\\">person</mat-icon>\\r\\n    </mat-form-field>\\r\\n\\r\\n    <mat-form-field appearance=\\\"outline\\\">\\r\\n      <mat-label>Customer Email</mat-label>\\r\\n      <input matInput [value]=\\\"orderData.email\\\" readonly>\\r\\n      <mat-icon matPrefix class=\\\"m-r-4\\\">mail</mat-icon>\\r\\n    </mat-form-field>\\r\\n\\r\\n    <mat-form-field appearance=\\\"outline\\\">\\r\\n      <mat-label>Customer Address</mat-label>\\r\\n      <input matInput [value]=\\\"orderData.address\\\" readonly>\\r\\n      <mat-icon matPrefix class=\\\"m-r-4\\\">home</mat-icon>\\r\\n    </mat-form-field>\\r\\n\\r\\n    <mat-form-field appearance=\\\"outline\\\">\\r\\n      <mat-label>City</mat-label>\\r\\n      <input matInput [value]=\\\"orderData.city\\\" readonly>\\r\\n      <mat-icon matPrefix class=\\\"m-r-4\\\">location_city</mat-icon>\\r\\n    </mat-form-field>\\r\\n\\r\\n    <mat-form-field appearance=\\\"outline\\\">\\r\\n      <mat-label>Postcode</mat-label>\\r\\n      <input matInput [value]=\\\"orderData.postcode\\\" readonly>\\r\\n      <mat-icon matPrefix class=\\\"m-r-4\\\">map</mat-icon>\\r\\n    </mat-form-field>\\r\\n\\r\\n\\r\\n    <mat-form-field appearance=\\\"outline\\\">\\r\\n      <mat-label>Contact Number</mat-label>\\r\\n      <input matInput [value]=\\\"orderData.phone\\\" readonly>\\r\\n      <mat-icon matPrefix  class=\\\"m-r-4\\\">phone</mat-icon>\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n\\r\\n\\r\\n  <div>\\r\\n    <h5 class=\\\"text-center\\\">Piano Details</h5>\\r\\n\\r\\n    <mat-form-field appearance=\\\"outline\\\">\\r\\n      <mat-label>Piano Name</mat-label>\\r\\n      <input matInput [value]=\\\"orderData.pianoName\\\" readonly>\\r\\n    </mat-form-field>\\r\\n\\r\\n    <mat-form-field appearance=\\\"outline\\\">\\r\\n      <mat-label>Serial number</mat-label>\\r\\n      <input matInput [value]=\\\"orderData.serial? orderData.serial : 'Not added'\\\" readonly>\\r\\n    </mat-form-field>\\r\\n\\r\\n\\r\\n    <mat-form-field appearance=\\\"outline\\\">\\r\\n      <mat-label>Piano Type</mat-label>\\r\\n      <input matInput [value]=\\\"orderData.type\\\" readonly>\\r\\n    </mat-form-field>\\r\\n\\r\\n    <mat-form-field appearance=\\\"outline\\\">\\r\\n      <mat-label>Last Service</mat-label>\\r\\n      <input matInput [value]=\\\"orderData.lastService\\\" readonly>\\r\\n    </mat-form-field>\\r\\n\\r\\n\\r\\n    <mat-form-field appearance=\\\"outline\\\">\\r\\n      <mat-label>Notes</mat-label>\\r\\n      <input matInput [value]=\\\"orderData.notes ?  orderData.notes : 'No notes added'\\\" readonly>\\r\\n    </mat-form-field>\\r\\n\\r\\n\\r\\n  </div>\\r\\n  <div >\\r\\n    <h5 class=\\\"text-center\\\">Services Ordered</h5>\\r\\n    <ul>\\r\\n      <li *ngFor=\\\"let service of orderData.service\\\">{{service.name}}</li>\\r\\n    </ul>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"fs-16\\\" *ngIf=\\\"orderData.extended\\\">\\r\\n    <h5 class=\\\"m-t-30\\\">Edited Order Details</h5>\\r\\n    <hr>\\r\\n\\r\\n      <div class=\\\"p-details\\\">\\r\\n        <div class=\\\"p-detail-title\\\"> Booking Id</div>\\r\\n        <div class=\\\"p-detail-info\\\">{{orderData._id}}</div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"p-details\\\">\\r\\n        <div class=\\\"p-detail-title\\\">Status</div>\\r\\n        <div class=\\\"p-detail-info\\\">{{orderData.additional.status}}</div>\\r\\n      </div>\\r\\n\\r\\n\\r\\n      <div class=\\\"p-details\\\">\\r\\n        <div class=\\\"p-detail-title\\\">Total</div>\\r\\n        <div class=\\\"p-detail-info\\\">{{orderData.additional.total}}</div>\\r\\n      </div>\\r\\n\\r\\n\\r\\n    <h6 class=\\\"m-t-20\\\">New Services</h6>\\r\\n    <ul>\\r\\n      <li *ngFor=\\\"let service of orderData.additional.services\\\">{{service.name}}</li>\\r\\n    </ul>\\r\\n  </div>\\r\\n\\r\\n\\r\\n<!--  <div *ngIf=\\\"orderData.status === 'PAYMENT_CONFIRMED'\\\" class=\\\"d-flex justify-content-around\\\">-->\\r\\n<!--    <hr>-->\\r\\n\\r\\n<!--    <button (click)=\\\"changeStatus(1)\\\" class=\\\"cancel-btn\\\" mat-flat-button>Reject</button>-->\\r\\n<!--    <button (click)=\\\"changeStatus(2)\\\" class=\\\"comp-btn\\\"  mat-flat-button  >Confirm</button>-->\\r\\n<!--  </div>-->\\r\\n\\r\\n<!--  <div *ngIf=\\\"orderData.status === 'COMPLETE' || orderData.status === 'BOOKING_CONFIRMED' || orderData.status === 'CANCELLED'\\\" class=\\\"d-flex justify-content-around\\\">-->\\r\\n\\r\\n\\r\\n  <div class=\\\"d-flex justify-content-around\\\">\\r\\n    <hr>\\r\\n    <button *ngIf=\\\"!(orderData.status === 'CANCELLED' || orderData.status === 'COMPLETED' || orderData.status === 'REJECTED')\\\" class=\\\"cancel-btn\\\"\\r\\n            (click)=\\\"changeStatus(3)\\\"     mat-flat-button>Cancel\\r\\n    </button>\\r\\n    <button  *ngIf=\\\"!(orderData.status === 'CANCELLED' || orderData.status === 'COMPLETED' || orderData.status === 'REJECTED')\\\" class=\\\"comp-btn\\\"\\r\\n             (click)=\\\"changeStatus(4)\\\" mat-flat-button>Complete\\r\\n    </button>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\";","export default \".p-details {\\n  border: 1px solid #c4c4c4;\\n  margin-top: 5px;\\n  padding: 5px;\\n}\\n\\n.p-detail-title {\\n  color: #7d7d7d;\\n  font-size: 13px;\\n}\\n\\n.p-detail-info {\\n  color: #0d0d0d;\\n  font-size: 16px;\\n}\\n\\n.o-detail-title {\\n  color: #7d7d7d;\\n  font-size: 16px;\\n  margin-top: 5px;\\n}\\n\\n.o-detail-info {\\n  color: #0d0d0d;\\n  font-size: 18px;\\n  margin-left: 21px;\\n}\\n\\nhr {\\n  background: #7d7d7d;\\n}\\n\\nh6 {\\n  margin: 15px;\\n}\\n\\n.icon {\\n  font-size: 16px;\\n  height: 100%;\\n  vertical-align: middle;\\n  margin-right: 5px;\\n}\\n\\n.comp-btn {\\n  background: teal;\\n  color: white;\\n  padding: 1px 7px;\\n  margin-left: 10px;\\n}\\n\\n.cancel-btn {\\n  background: orangered;\\n  color: white;\\n  padding: 1px 7px;\\n}\\n\\nmat-icon {\\n  color: #8a2be2;\\n}\\n\\nh5 {\\n  color: #8a2be2;\\n}\\n\\n.mat-form-field-appearance-outline .mat-form-field-outline {\\n  color: #8a2be2 !important;\\n}\\n\\n.mat-form-field-appearance-outline .mat-form-field-outline-thick {\\n  color: #8a2be2 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kYWxzL2RldGFpbHMtc2hlZXQvZGV0YWlscy1zaGVldC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSxjQUFBO0VBQ0EsZUFBQTtBQUNGOztBQUVBO0VBQ0UsY0FBQTtFQUNBLGVBQUE7QUFDRjs7QUFDQTtFQUNFLGNBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtBQUVGOztBQUVBO0VBQ0UsY0FBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQUNGOztBQUVBO0VBQ0UsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLFlBQUE7QUFDRjs7QUFHQTtFQUNFLGVBQUE7RUFDQSxZQUFBO0VBQ0Esc0JBQUE7RUFDQSxpQkFBQTtBQUFGOztBQUlBO0VBQ0UsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtBQURGOztBQUdBO0VBQ0UscUJBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUFBRjs7QUFHQTtFQUNFLGNBQUE7QUFBRjs7QUFHQTtFQUNFLGNBQUE7QUFBRjs7QUFJQTtFQUNFLHlCQUFBO0FBREY7O0FBSUE7RUFDRSx5QkFBQTtBQURGIiwiZmlsZSI6InNyYy9hcHAvbW9kYWxzL2RldGFpbHMtc2hlZXQvZGV0YWlscy1zaGVldC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucC1kZXRhaWxze1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjNGM0YzQ7XHJcbiAgbWFyZ2luLXRvcDogNXB4O1xyXG4gIHBhZGRpbmc6IDVweDtcclxufVxyXG5cclxuLnAtZGV0YWlsLXRpdGxle1xyXG4gIGNvbG9yOiAjN2Q3ZDdkO1xyXG4gIGZvbnQtc2l6ZTogMTNweDtcclxufVxyXG5cclxuLnAtZGV0YWlsLWluZm97XHJcbiAgY29sb3I6ICMwZDBkMGQ7XHJcbiAgZm9udC1zaXplOiAxNnB4O1xyXG59XHJcbi5vLWRldGFpbC10aXRsZXtcclxuICBjb2xvcjogIzdkN2Q3ZDtcclxuICBmb250LXNpemU6IDE2cHg7XHJcbiAgbWFyZ2luLXRvcDogNXB4O1xyXG5cclxufVxyXG5cclxuLm8tZGV0YWlsLWluZm97XHJcbiAgY29sb3I6ICMwZDBkMGQ7XHJcbiAgZm9udC1zaXplOiAxOHB4O1xyXG4gIG1hcmdpbi1sZWZ0OiAyMXB4O1xyXG59XHJcblxyXG5ocntcclxuICBiYWNrZ3JvdW5kOiAjN2Q3ZDdkO1xyXG59XHJcblxyXG5oNntcclxuICBtYXJnaW46IDE1cHg7XHJcbn1cclxuXHJcblxyXG4uaWNvbntcclxuICBmb250LXNpemU6IDE2cHg7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XHJcbn1cclxuXHJcblxyXG4uY29tcC1idG57XHJcbiAgYmFja2dyb3VuZDogdGVhbDtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgcGFkZGluZzogMXB4IDdweDtcclxuICBtYXJnaW4tbGVmdDogMTBweDtcclxufVxyXG4uY2FuY2VsLWJ0bntcclxuICBiYWNrZ3JvdW5kOiBvcmFuZ2VyZWQ7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIHBhZGRpbmc6IDFweCA3cHg7XHJcbn1cclxuXHJcbm1hdC1pY29ue1xyXG4gIGNvbG9yOiAjOGEyYmUyO1xyXG59XHJcblxyXG5oNXtcclxuICBjb2xvcjogIzhhMmJlMjtcclxufVxyXG5cclxuXHJcbi5tYXQtZm9ybS1maWVsZC1hcHBlYXJhbmNlLW91dGxpbmUgLm1hdC1mb3JtLWZpZWxkLW91dGxpbmUge1xyXG4gIGNvbG9yOiAjOGEyYmUyIWltcG9ydGFudDtcclxufVxyXG5cclxuLm1hdC1mb3JtLWZpZWxkLWFwcGVhcmFuY2Utb3V0bGluZSAubWF0LWZvcm0tZmllbGQtb3V0bGluZS10aGljayB7XHJcbiAgY29sb3I6ICM4YTJiZTIhaW1wb3J0YW50O1xyXG59XHJcbiJdfQ== */\";","import {Component, Inject, OnInit} from '@angular/core';\r\nimport {MAT_BOTTOM_SHEET_DATA, MatBottomSheetRef} from '@angular/material/bottom-sheet';\r\nimport {Order} from '../../models/Orders';\r\nimport {UtilService} from '../../services/util.service';\r\nimport {AlertController} from '@ionic/angular';\r\nimport {ApiServiceService} from '../../services/api-service.service';\r\nimport {Router} from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-details-sheet',\r\n  templateUrl: './details-sheet.page.html',\r\n  styleUrls: ['./details-sheet.page.scss'],\r\n})\r\nexport class DetailsSheetPage implements OnInit {\r\n  orderData: Order;\r\n\r\n  constructor(private api: ApiServiceService, public alertController: AlertController, private bottomSheetRef: MatBottomSheetRef<DetailsSheetPage>,\r\n              @Inject(MAT_BOTTOM_SHEET_DATA) public data: DialogData, public util: UtilService, private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.orderData = this.data.order;\r\n    console.log('this is order data for popup', this.data.order);\r\n  }\r\n\r\n  getStatus(status: string) {\r\n    let mWord = status.toLowerCase();\r\n    mWord = mWord.replace('_', ' ');\r\n    return mWord[0].toUpperCase() + mWord.substr(1).toLowerCase();\r\n  }\r\n\r\n  getStatusColor(status: string) {\r\n    status = status.toUpperCase();\r\n    console.log('Status', status);\r\n    if (status === 'PAYMENT_CONFIRMED') {\r\n      return '#1E90FF';\r\n    } else if (status === 'COMPLETED') {\r\n      return '#4caf50';\r\n    } else if (status === 'PENDING') {\r\n      return '#4caf50';\r\n    } else if (status === 'CANCELLED') {\r\n      return '#d32f2f';\r\n    }else if (status === 'REJECTED') {\r\n      return '#e74e01';\r\n    } else {\r\n      return '#000000';\r\n    }\r\n  }\r\n\r\n  // show alert if service man rejects or cancel booking and change status accordingly\r\n\r\n  async presentAlertCancel(status) {\r\n    // close bottom sheet and open alert\r\n    this.bottomSheetRef.dismiss();\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      // header: 'Confirm!',\r\n      message: status === 1 ? 'Are you sure you want to reject this booking!!!' : 'Are you sure you want to cancel this booking!!!',\r\n      buttons: [\r\n        {\r\n          text: 'No',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: (blah) => {\r\n            console.log('Cancel: blah***********');\r\n          }\r\n        }, {\r\n          text: 'Yes',\r\n          handler: () => {\r\n            if (status === 1) {\r\n              // add api call to reject booking\r\n              const body = {\r\n                id : this.orderData._id,\r\n                status: 'REJECTED'\r\n              };\r\n              this.api.updateOrderStat(body).subscribe( data => {\r\n                this.util.orderUpdate.next(true);\r\n                console.log('this is data after rejection', data);\r\n                this.util.openSnackBar('Booking was rejected', '');\r\n              }, error => {\r\n                this.util.openSnackBar('An error occurred while rejecting booking', '');\r\n                console.log('this is error occurred', error);\r\n              });\r\n\r\n            } else if (status === 3){\r\n              // add api call to cancel booking\r\n              // const body = {\r\n              //   id : this.orderData._id,\r\n              //   status: 'CANCELLED_BY_SERVICE'\r\n              // };\r\n              // this.api.updateOrderStat(body).subscribe( data => {\r\n              //   console.log('this is data after updation', data);\r\n              //   this.util.openSnackBar('Booking was cancelled', '');\r\n              // }, error => {\r\n              //   this.util.openSnackBar('An error occurred while cancelling booking', '');\r\n              //   console.log('this is error occurred', error);\r\n              // });\r\n\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  // Change status of booking and available slot based on service man response\r\n\r\n  changeStatus(status: number) {\r\n    // status 1 means REJECTED\r\n    if (status === 1) {\r\n      this.presentAlertCancel(1);\r\n    }\r\n    // status 2 means BOOKING_CONFIRMED\r\n    else if (status === 2) {\r\n      const body = {\r\n        id : this.orderData._id,\r\n        status: 'BOOKING_CONFIRMED'\r\n      };\r\n      this.api.updateOrderStat(body).subscribe( data => {\r\n        this.util.orderUpdate.next(true);\r\n\r\n        console.log('this is data after updation', data);\r\n        this.util.openSnackBar('Booking accepted', '');\r\n      }, error => {\r\n        this.util.openSnackBar('An error occurred while accepting booking', '');\r\n        console.log('this is error occurred', error);\r\n      });\r\n    }\r\n    // status 3 means CANCELLED_BY_SERVICE\r\n    else if (status ===  3) {\r\n      // this.presentAlertCancel(3);\r\n      this.presentAlertPrompt();\r\n    }\r\n    // status 4 means COMPLETED\r\n    else if (status === 4) {\r\n      this.bottomSheetRef.dismiss();\r\n      this.router.navigateByUrl('/completion/' + this.orderData._id);\r\n    } else {\r\n\r\n    }\r\n\r\n  }\r\n  async presentAlertPrompt() {\r\n    this.bottomSheetRef.dismiss();\r\n\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Cancellation!',\r\n      inputs: [\r\n        // multiline input.\r\n        {\r\n          name: 'note',\r\n          id: 'note',\r\n          type: 'textarea',\r\n          placeholder: 'Enter Cancellation note'\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: () => {\r\n            console.log('Confirm Cancel');\r\n          }\r\n        }, {\r\n          text: 'Ok',\r\n          handler: (alertData) => {\r\n            if (alertData.note === '') {\r\n              this.util.openSnackBar('Please enter cancellation note to cancel', 'ok');\r\n\r\n            } else {\r\n              const body = {\r\n                id : this.orderData._id,\r\n                status: 'REJECTED',\r\n                notes: alertData.note\r\n              };\r\n              this.api.updateOrderStat(body).subscribe( data => {\r\n                this.util.orderUpdate.next(true);\r\n                console.log('this is data after updation', data);\r\n                this.util.openSnackBar('Booking was cancelled', '');\r\n              }, error => {\r\n                this.util.openSnackBar('An error occurred while cancelling booking', '');\r\n                console.log('this is error occurred', error);\r\n              });\r\n\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\nexport interface DialogData {\r\n  order: Order;\r\n}\r\n"],"sourceRoot":"webpack:///"}