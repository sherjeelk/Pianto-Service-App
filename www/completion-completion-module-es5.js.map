{"version":3,"sources":["webpack:///src/app/completion/completion.page.html","webpack:///src/app/completion/completion-routing.module.ts","webpack:///src/app/completion/completion.module.ts","webpack:///src/app/completion/completion.page.scss","webpack:///src/app/completion/completion.page.ts"],"names":["routes","path","component","CompletionPageRoutingModule","imports","forChild","exports","CompletionPageModule","declarations","CompletionPage","util","formBuilder","api","route","router","questions","answers","orderId","snapshot","params","id","completionForm","group","q1","required","q2","getQuestions","getQuestionsFromExtras","subscribe","data","results","item","push","question","name","answer","console","log","error","body","status","updateOrderStat","orderUpdate","next","navigateByUrl","openSnackBar","selector","template"],"mappings":"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","file":"completion-completion-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-title>Complete Order</ion-title>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button></ion-back-button>\\r\\n        </ion-buttons>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n    <div class=\\\"container my-3\\\">\\r\\n\\r\\n        <mat-card class=\\\"mat-elevation-z2\\\">\\r\\n\\r\\n            <div *ngFor=\\\"let ques of answers\\\">\\r\\n                <div>Q : {{ques.question}}</div>\\r\\n                <mat-form-field>\\r\\n                    <mat-label>Answer</mat-label>\\r\\n                    <label>\\r\\n                        <input matInput minlength=\\\"1\\\" type=\\\"text\\\" [(ngModel)]=\\\"ques.answer\\\">\\r\\n                    </label>\\r\\n                    <mat-error>Please enter an answer</mat-error>\\r\\n\\r\\n                </mat-form-field>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"d-flex justify-content-around\\\">\\r\\n                <button class=\\\"cncl-btn\\\" mat-flat-button routerLink=\\\"/tab/tabs/home\\\">Cancel</button>\\r\\n                <button (click)=\\\"submit()\\\" class=\\\"sbmt-btn\\\" mat-raised-button>Submit</button>\\r\\n            </div>\\r\\n\\r\\n        </mat-card>\\r\\n\\r\\n    </div>\\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CompletionPage } from './completion.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CompletionPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CompletionPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CompletionPageRoutingModule } from './completion-routing.module';\r\n\r\nimport { CompletionPage } from './completion.page';\r\nimport {MatFormFieldModule} from '@angular/material/form-field';\r\nimport {MatSelectModule} from '@angular/material/select';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatButtonModule} from '@angular/material/button';\r\nimport {MatCardModule} from '@angular/material/card';\r\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        IonicModule,\r\n        CompletionPageRoutingModule,\r\n        MatFormFieldModule,\r\n        MatSelectModule,\r\n        MatInputModule,\r\n        MatButtonModule,\r\n        MatCardModule,\r\n        ReactiveFormsModule,\r\n        MatSnackBarModule\r\n    ],\r\n  declarations: [CompletionPage]\r\n})\r\nexport class CompletionPageModule {}\r\n","export default \".sbmt-btn {\\n  background: blueviolet;\\n  color: white;\\n  padding: 1px 40px;\\n}\\n\\n.cncl-btn {\\n  border: orangered 1px solid;\\n  color: orangered;\\n  padding: 1px 40px;\\n}\\n\\n.mat-card {\\n  border-radius: 12px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcGxldGlvbi9jb21wbGV0aW9uLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHNCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0FBQ0Y7O0FBR0E7RUFDRSwyQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUFBRjs7QUFJQTtFQUNFLG1CQUFBO0FBREYiLCJmaWxlIjoic3JjL2FwcC9jb21wbGV0aW9uL2NvbXBsZXRpb24ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNibXQtYnRue1xyXG4gIGJhY2tncm91bmQ6IGJsdWV2aW9sZXQ7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIHBhZGRpbmc6IDFweCA0MHB4O1xyXG5cclxufVxyXG5cclxuLmNuY2wtYnRue1xyXG4gIGJvcmRlcjogb3JhbmdlcmVkIDFweCBzb2xpZDtcclxuICBjb2xvcjogb3JhbmdlcmVkO1xyXG4gIHBhZGRpbmc6IDFweCA0MHB4O1xyXG5cclxufVxyXG5cclxuLm1hdC1jYXJke1xyXG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcblxyXG59XHJcbiJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {ApiServiceService} from '../services/api-service.service';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {AlertController} from '@ionic/angular';\r\nimport {UtilService} from '../services/util.service';\r\nimport {dashCaseToCamelCase} from '@angular/compiler/src/util';\r\nimport {Extra} from '../models/Extras';\r\n\r\n@Component({\r\n  selector: 'app-completion',\r\n  templateUrl: './completion.page.html',\r\n  styleUrls: ['./completion.page.scss'],\r\n})\r\nexport class CompletionPage implements OnInit {\r\n    completionForm: FormGroup;\r\n    questions: Extra[] = [];\r\n    answers = [];\r\n  private orderId: any;\r\n\r\n  constructor(private util: UtilService, private formBuilder: FormBuilder, private api: ApiServiceService, private route: ActivatedRoute, private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.orderId = this.route.snapshot.params.id;\r\n    this.completionForm = this.formBuilder.group({\r\n      q1: ['', Validators.required],\r\n      q2: ['', Validators.required]\r\n    });\r\n\r\n    this.getQuestions();\r\n  }\r\n\r\n  // Get Questions from extra api type is \"question\"\r\n\r\n  getQuestions() {\r\n    this.api.getQuestionsFromExtras().subscribe( data => {\r\n      this.questions = data.results;\r\n      for (const item of this.questions){\r\n        this.answers.push({\r\n          question: item.name,\r\n          answer: ''\r\n        });\r\n      }\r\n      console.log('these are all questions', this.questions);\r\n    }, error => {\r\n      console.log('an error occurred while getting questions', error);\r\n    });\r\n  }\r\n\r\n  submit() {\r\n\r\n    const body = {\r\n      id : this.orderId,\r\n      status: 'COMPLETED',\r\n      questions: this.answers\r\n    };\r\n    this.api.updateOrderStat(body).subscribe( data => {\r\n      console.log('this is data after COMPLETED', data);\r\n      this.util.orderUpdate.next(true);\r\n      this.router.navigateByUrl('/tab/tabs/home');\r\n      this.util.openSnackBar('Booking completed', '');\r\n    }, error => {\r\n      this.util.openSnackBar('An error occurred while completing booking', '');\r\n      console.log('this is error occurred', error);\r\n    });\r\n  }\r\n\r\n\r\n}\r\n"]}